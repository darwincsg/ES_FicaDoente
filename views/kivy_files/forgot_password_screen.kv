<ForgotPasswordScreen>:
    name: "forgot_password_screen"
    BoxLayout:
        orientation: 'vertical'
        spacing: dp(10)
        padding: dp(20)

        canvas.before:
            Color:
                rgba: 1, 1, 1, 1  # White background
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "Forgot Password"
            font_size: '24sp'
            halign: 'center'
            size_hint_y: None
            height: dp(50)

        TextInput:
            id: code_input
            hint_text: "Verification Code"
            multiline: False
            size_hint_y: None
            height: dp(40)

        TextInput:
            id: new_password_input
            hint_text: "New Password"
            password: True
            multiline: False
            size_hint_y: None
            height: dp(40)

        TextInput:
            id: confirm_password_input
            hint_text: "Confirm New Password"
            password: True
            multiline: False
            size_hint_y: None
            height: dp(40)

        Button:
            text: "Reset Password"
            size_hint_y: None
            height: dp(50)
            on_release: root.reset_password(code_input.text, new_password_input.text, confirm_password_input.text)

        Label:
            id: reset_message
            text: ""
            halign: "center"
            valign: "middle"
            size_hint_y: None
            height: dp(30)

        Button:
            text: "Back to Login"
            size_hint_y: None
            height: dp(40)
            on_release: root.go_back()  # Calls go_back method in Python class